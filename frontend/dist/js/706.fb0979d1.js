"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[706],{7706:function(a,s,e){e.r(s),e.d(s,{default:function(){return H}});var o=e(3396),i=e(7139);const l=a=>((0,o.dD)("data-v-1d8592f7"),a=a(),(0,o.Cn)(),a),r={ref:"formulario",id:"main",method:"post"},t={class:"tabs is-boxed mb-0"},n=l((()=>(0,o._)("a",null,[(0,o._)("span",null,"Principal")],-1))),u=[n],c={id:"conteudo1",class:"p-4 conteudo"},d={class:"columns m-0"},m={class:"field m-0 pt-0 column is-one-fifth"},p=l((()=>(0,o._)("label",{class:"label"},"Login",-1))),_={class:"control"},f=["value"],v={class:"is-danger"},h={class:"columns m-0"},b={class:"field m-0 pt-0 column is is-one-fifth"},g=l((()=>(0,o._)("label",{class:"label"},"FuncionÃ¡rio",-1))),y={class:"control"},w=["value"],V={class:"is-danger"},k={class:"columns m-0"},C={class:"field m-0 py-0 column is-one-fifth"},D=l((()=>(0,o._)("label",{class:"label"},"Senha",-1))),F=l((()=>(0,o._)("div",{class:"control"},[(0,o._)("input",{name:"senha",class:"input is-small",type:"password"})],-1))),x={class:"is-danger"},z={class:"columns m-0"},A={class:"field m-0 pt-0 column is-one-fifth"},E=l((()=>(0,o._)("label",{class:"label"},"Repita a senha",-1))),M=l((()=>(0,o._)("div",{class:"control"},[(0,o._)("input",{name:"senhaRepetida",class:"input is-small",type:"password"})],-1))),R={class:"is-danger"},S={hidden:""},Z=["value"],I=["value"],L={id:"botoes",class:"field is-grouped is-grouped-right p-3"},U={class:"control"},q=l((()=>(0,o._)("p",{class:"control"},[(0,o._)("a",{href:"/usuarios",class:"button is-danger"}," Cancelar ")],-1)));function P(a,s,e,l,n,$){const P=(0,o.up)("fa");return(0,o.wg)(),(0,o.iD)("form",r,[(0,o._)("div",t,[(0,o._)("ul",null,[(0,o._)("li",{id:"aba1",onClick:s[0]||(s[0]=a=>$.selecionarAba("1")),class:"aba is-active"},u)])]),(0,o._)("div",c,[(0,o._)("div",d,[(0,o._)("div",m,[p,(0,o._)("div",_,[(0,o._)("input",{name:"usuario",id:"usuario",class:"input is-small",type:"text",autofocus:"",value:n.usuario?n.usuario.usuario:""},null,8,f)]),(0,o._)("small",v,(0,i.zw)(n.erroValidacao&&n.erroValidacao.usuario),1)])]),(0,o._)("div",h,[(0,o._)("div",b,[g,(0,o._)("div",y,[(0,o._)("input",{name:"funcionario",class:"input is-small",type:"text",value:n.usuario?n.usuario.funcionario:null},null,8,w)]),(0,o._)("small",V,(0,i.zw)(n.erroValidacao&&n.erroValidacao.funcionario),1)])]),(0,o._)("div",k,[(0,o._)("div",C,[D,F,(0,o._)("small",x,(0,i.zw)(n.erroValidacao&&n.erroValidacao.senha),1)])]),(0,o._)("div",z,[(0,o._)("div",A,[E,M,(0,o._)("small",R,(0,i.zw)(n.erroValidacao&&n.erroValidacao.senhaRepetida),1)])])]),(0,o._)("div",S,[(0,o._)("input",{type:"text",name:"empresa_id",value:n.empresa},null,8,Z),(0,o._)("input",{type:"text",name:"id",value:n.usuario?n.usuario.id:""},null,8,I)]),(0,o._)("div",L,[(0,o._)("p",U,[(0,o._)("button",{class:"button is-primary",type:"button",onClick:s[1]||(s[1]=(...a)=>$.enviarDados&&$.enviarDados(...a))},[(0,o.Wm)(P,{icon:"floppy-disk",class:"mr-1"}),(0,o.Uk)("Salvar ")])]),q])],512)}e(7658);var W=e(4621),j={name:"FormularioUsuario",data(){return{mensagem:[],erroValidacao:[],usuario:[],empresa:sessionStorage.getItem("empresa")}},async mounted(){let a=this.$route.query.id;await this.listar(a)},methods:{listar:async function(a){try{const s=await W.Z.get("api/usuarios/formulario?id="+a);this.usuario=s.data.usuario}catch(s){this.$root.mostrarFlashMenssage("danger","Erro",s),console.error(s)}},selecionarAba(a){let s=$(".conteudo").get();for(let l=0;l<s.length;l++)s[l].setAttribute("hidden","true");let e=$("#conteudo"+a);e.removeAttr("hidden");let o=$(".aba").get();for(let l=0;l<o.length;l++)o[l].classList.remove("is-active");let i=$("#aba"+a);i.addClass("is-active")},enviarDados:async function(){const a=new FormData(this.$refs.formulario);await W.Z.post("/api/usuarios/salvar-usuario",a).then((a=>{this.$root.mostrarFlashMenssage(a.data.tipo,a.data.titulo,a.data.mensagem),console.log(a.data),this.erroValidacao=a.data.erroValidacao,a.data.erroValidacao||this.$router.push({name:"usuariosView"})})).catch((a=>{this.$root.mostrarFlashMenssage("danger","Erro",a),console.error("Erro ao enviar dados:",a)}))}}},B=e(89);const G=(0,B.Z)(j,[["render",P],["__scopeId","data-v-1d8592f7"]]);var H=G}}]);
//# sourceMappingURL=706.fb0979d1.js.map